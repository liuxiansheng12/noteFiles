

#### 外健约束，可以让当前表与其他的表建立联系


#### 特点
1. 表格中可以有多个列被设置为外键约束
2. 设置了外健约束的列，可以为空，可以重复
3. **对填入的值有要求，必须在另一个表中可以查询到**，以这种方式建立联系
   1. 外键是，当前列的值，受到另外一张表格，某一个列的影响
   2. 当前的列，填入的值，必须是，**约束他的另外一张表中的列的值**
   3. 填其他的报错
   4. **并且，另外一张表格的列，必须进行了唯一约束**，可以是，主键，或者单独设置唯一约束
      1. **否则外健是设置不成功的**


#### 添加外键约束
1. `alter table 表名字 add constraint fk_当前表_关联表 foreign key(当前表的列名) references 另一个表(另外一张表的列名);`
   1. 比如: `alter table demo1 add constraint fk_demo1_demo2 foreign key(a) references demo2(b);`
   2. 则 `demo1` 中的 `a` 列，填入的值，必须是 `demo2` 中 `b` 列 中已经存在的值
   3. 可以不填，填就要遵循这个规则


#### 删除外键约束
1. `alter table 表名字 drop foreign key 约束名字;`
2. 注意: **通过上述语句其实已经将外键约束删掉了**
   1. 但是，通过`desc 表名;`或者`show keys from 表名`，查询状态，发现对应的约束状态还有，但是功能已经删除了(可以填入其他的值)
   2. **状态依旧存在的原因是，自动在当前表格内添加一个新的`key`**，用来表明，当前表与另一个表建立了联系
3. 所以要想彻底删除，还需要删除 `key`, 外键约束才真的删除干净
   1. 具体的指令：`alter table 表名字 drop key 约束名字;`
   2. 注意: **这个约束名字，是key的约束名字，通常与列约束的名字相同，就是自己设置的那个名字(fk_当前表_关联表)**
      1. 但是也有特殊情况，设置列约束的时候，使用的是简写的方式，没有指定约束的名字
      2. **此时，列约束的名字与 `key` 约束的名字是不同的，需要特别注意**
      3. 可以通过 `show create table 表名;`，查看到 `key` 的约束名字



#### 约束的简写方式
1. `alter table student add foreign key(列) references 另一个表(列);`
   1. 没有设置约束名字，就会使用默认的名字
2. 列约束使用的默认名字: `student_ibfk_1`（不是约束的列的名字）
   1. 可能是个随机的，可以使用`show keys from 表名`，查询一下
3. `key` 使用的默认约束名字为: **约束的列的名字**
4. **所以删除，通过简写方式设置的外健约束，约束名字有差异，具体如下**
   1. 删除列约束: `alter table student drop foreign key student_ibfk_1;`
   2. 删除key: `alter table student drop key classid;`，`classid`就是列名
   3. **两个指令使用的约束名字是不同的，需要特别注意**。