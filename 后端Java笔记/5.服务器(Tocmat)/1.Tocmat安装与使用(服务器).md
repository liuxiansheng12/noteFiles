<script src='/笔记/see/index.js'></script>
[toc]


#### Tocmat的下载
- 进入，官方网址: https://www.apache.org/
- 滑到最下面，就可以看到 **Tomcat**，点击它
- 找到对应的版本，点击 `下载`，会进入该版本的下载页面，选择对应电脑系统的版本（mac对应tar.gz），点击就会下载
- 版本的对应关系
  - Tomcat6 （JDK5，Servlet2.x，JSP2.x，EL2.x）
  - Tomcat7 （JDK6，Servlet3.x，JSP2.x，EL2.x）
  - Tomcat8 （JDK7，Servlet3.x，JSP2.x，EL3.x）
  - Tomcat9 （JDK8，Servlet4.0，JSP2.3，EL3.0）



#### 准备工作-引入Tocmat的流程（旧版）
- 第一步：打开编辑器，点击上方的 `Run`
- 第二步：点击 `Edit Configurations`
- 第三步：`左上角+号`   
  - 往下滑，找到 `Tomcat Server`，然后在点击 `Local`
  - 然后，就会进入一个配置页面
    - 点击 `configure`，选中要集成的 `Tomcat` 的路径（即上面下载的Tocmat所处的路径）
    - 以及给服务器起一个名字(可能有多个服务)
    - 集成成功后，最后有一个 `Warning: No artifacts configured` 警告，说明还没有项目，不用管，点击ok即可
    - 这样，Tocmat就运用成功，此时运行的地方，就会出现可运行的mian函数（是Tocmat上的）
  - 如果没有找到 `Tomcat Server`，可能隐藏了，点击最下面的收起隐藏
  - 如果还没有，证明IDEA中缺少相关的插件
    - 下载流程（按顺序点击）：(File--Settings--Plugins--Installed)
      - 最终进入一个页面，然后搜索 `Tomcat`，如果没有安装，是一个高亮的，如果已经安装，是个灰色的
      - 如果没有安装，选中（或者在前面打勾），点击 `apply` 进行安装，安装后点击OK，就会退出
    - 此时，Tomcat就安装好了，然后再回到第一步，此时就可以成功执行第三步，创建Tocmat项目了




#### 准备工作-引入Tocmat的流程（新版）
- 第一步：打开编辑器，点击上方的 `Run`
- 第二步：点击 `Edit Configurations`
- 第三步：`左上角+号`  
  - 选择Smart Tocmat
  - 如果没有，说明缺少 Smart Tocmat 插件
- 第四步：安装 Smart Tocmat 插件
  - 点击 IntelliJ IDEA（左上角）
  - 点击 Preferenecs
  - 点击 Plugins
  - 点击 Marketplace（默认选择的就是这个）
  - 然后，搜索 Tocmat （搜索结果可能比较慢，也有可能搜不出来，多搜几次）
  - 然后就会看到 Smart Tocmat
    - 然后，点击 install（没有下载，这个按钮就是高亮）
    - 点击后，就会进入下载流程，下载完成后，install 这个按钮就会变灰
    - 下载完成后，一定要点击OK，否则不起作用（依旧找不到这个插件）
- 第五步：安装完成后，就需要引入下载的Tocmat了
  - 点击 IntelliJ IDEA（左上角）
  - 点击 Preferenecs
  - 就会发现，在最后多了一个 Tocmat Server（点击这个）
    - 右侧就会出现一个页面
    - 点击 +
    - 然后选择，下载的Tocmat的文件路径，选中对应的Tocmat
    - 可以多导几个Tocmat
  - Tocmat导入完毕后，点击Ok

- 然后回到第一步，一直操作到第三步
  - 选择Smart Tocmat
  - 右侧就会出现一个配置页面
    - 选则要使用的Tocmat版本（只有第五步导入的Tocmat才能被选中）
      - 如果是个空的，则说明没有导入Tocmat，就需要进行第五步的操作
    - 然后在给服务器起一个名字(可能有多个服务)
  - 配置完成后，点击OK，Tocmat就引入到项目中了

- 如果编辑器一打开文件目录，就卡死（就无法导入下载的tocmat了），就卸载重装


#### 准备工作-搭建Web服务
- web服务，要有一个核心的配置文件（启动配置文件）
- 该配置文件的路径为 src/web/WEB-INF/web.xml（启动配置文件）
  - src/web，下面放的就是静态资源了

- web文件的产生方式
  - 第一种，手动创建
  - 第二种，右键项目名称 -> 点击 add framwork support -> 点击 Web Application -> 默认勾选创建 web.xml
    - 确定后，项目中，就会多一个`web`文件夹，该文件夹中存放静态文件

- 配置项目路径
  - 打开 `run --> Edit Configurations`
  - 选中 `Deployment`，点击，右边的加号
  - 选择 `Artifact…`
    - 会自动添加当前的项目，修改下面的 `application context` 设置为当前项目的名字（可以不用设置）
    - 此时，如果访问 `ip:端口/项目名(或者默认的名字)/静态资源路径`，就可以访问到对应的静态资源
    - 会自动去 `web` 下面找，所以静态资源路径，就不用写 `web` 了






#### 准备工作-解决IDEA控制台出现乱码的问题
- 修改一下IDEA安装目录bin文件夹中的配置文件
  - 找到IDEA安装目录下的 `bin`
    - 找到 `idea.exe.vmoptions` 和 `idea64.exe.vmoptions`
  - 记事本形式打开，添加一行，**-Dfile.encoding=UTF-8**
  - 如果不好用，另外再添加一行，**-Dconsole.encoding=UTF-8**

- 在配置Tomcat容器的时候做参数处理
  - server选项卡
    - `VM options`处添加，`-Dfile.encoding=UTF-8`
  - 如果还不好用
    - 在点击 `Startup/Connection` 选项卡
    - 勾选 `Pass  environment  variables`
    - 手动添加
      - `JAVA_OPTS`，**-Dfile.encoding=UTF-8**
      - `JAVA_TOOL_OPTIONS`，**-Dfile.encoding=UTF-8**