<script src='/ç¬”è®°/see/index.js'></script>
[toc]

#### åˆ›å»ºuuid
- ä¾èµ–åŒ…
```xml
<dependency>
    <groupId>com.fasterxml.uuid</groupId>
    <artifactId>java-uuid-generator</artifactId>
    <version>4.0.1</version>
</dependency>
```

- ä½¿ç”¨æ–¹å¼
```java
// åˆ›å»ºä¸€ä¸ªuuidå­—ç¬¦ä¸²
UUID uuid = Generators.timeBasedGenerator().generate();
```




#### è·å–æ•°æ®åŒ…çš„æºIP
- è·å–çš„æ˜¯å…¬ç½‘çš„IPï¼ˆå†…ç½‘IPåœ¨å‡ºè·¯ç”±å™¨çš„æ—¶å€™å°±è¢«æ›¿æ¢æ‰äº†ï¼‰
  - å¯ä»¥æ‰“å¼€ç™¾åº¦ï¼Œæœç´¢ipï¼Œå°±å¯ä»¥çœ‹åˆ°å½“å‰ç½‘ç»œå¯¹åº”çš„å…¬ç½‘IP

- æœ¬åœ°è°ƒè¯•ï¼Œçœ‹ä¸åˆ°æ•ˆæœï¼Œå¾—åˆ°çš„æ˜¯127.0.0.1
  - æˆ–è€… 0:0:0:0:0:0:0:1ï¼Œè¿™ç§æƒ…å†µä¸‹æ˜¯é€šè¿‡ localhost å‘é€çš„è¯·æ±‚

- å…·ä½“çš„ç¤ºèŒƒä»£ç 
    ```java
    public String getIpAddress(HttpServletRequest request) throws IOException {
        // è·å–è¯·æ±‚ä¸»æœºIPåœ°å€,å¦‚æœé€šè¿‡ä»£ç†è¿›æ¥ï¼Œåˆ™é€è¿‡é˜²ç«å¢™è·å–çœŸå®IPåœ°å€
        String ip = request.getHeader("X-Forwarded-For");
        if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
            if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
                ip = request.getHeader("Proxy-Client-IP");
            }
            if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
                ip = request.getHeader("WL-Proxy-Client-IP");
            }
            if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
                ip = request.getHeader("HTTP_CLIENT_IP");
            }
            if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
                ip = request.getHeader("HTTP_X_FORWARDED_FOR");
            }
            if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
                ip = request.getRemoteAddr();
            }
        }
        return ip;
    }
    ```



#### æŠŠç½‘ç»œæ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°
```java
import java.io.*;
import java.net.URL;

public class Demo {
    public static File getNetUrlHttp(String path){
        //å¯¹æœ¬åœ°æ–‡ä»¶å‘½åï¼Œpathæ˜¯httpçš„å®Œæ•´è·¯å¾„ï¼Œä¸»è¦å¾—åˆ°èµ„æºçš„åå­—
        String newUrl = path;
        String[] bb = newUrl.split("[?]")[0].split("/");
        //å¾—åˆ°æœ€åä¸€ä¸ªåˆ†éš”ç¬¦åçš„åå­—
        String fileName = bb[bb.length - 1];
        //ä¿å­˜åˆ°æœ¬åœ°çš„è·¯å¾„
        String filePath="/Users/liushanzhuang/Desktop/imgs/"+fileName;
        File file = null;

        URL urlfile;
        InputStream inputStream = null;
        OutputStream outputStream = null;
        try{
            //åˆ¤æ–­æ–‡ä»¶çš„çˆ¶çº§ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º
            file = new File(filePath);
            if(!file.getParentFile().exists()){
                file.getParentFile().mkdirs();
            }
            try{
                //åˆ›å»ºæ–‡ä»¶
                file.createNewFile();
            }catch (Exception e){
                e.printStackTrace();
            }
            //ä¸‹è½½
            urlfile = new URL(newUrl);

            inputStream = urlfile.openStream();
            outputStream = new FileOutputStream(file);

            int bytesRead = 0;
            byte[] buffer = new byte[8192];
            while ((bytesRead=inputStream.read(buffer,0,8192))!=-1) {
                outputStream.write(buffer, 0, bytesRead);
            }
        }catch (Exception e) {
            e.printStackTrace();
        }finally {
            try {
                if (null != outputStream) {
                    outputStream.close();
                }
                if (null != inputStream) {
                    inputStream.close();
                }

            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        return file;
    }
    public static void main(String[] arge) {
        String[] strs = new String[]{"è·¯å¾„1", "è·¯å¾„2"};
        for(int i = 0; i< strs.length; i++) {
            File a = getNetUrlHttp(strs[i]);
            System.out.println(a.getName());
        }
    }
}
```





#### åŸç”Ÿ-å‘é€é‚®ä»¶
- éœ€è¦å€ŸåŠ©ä¸€ä¸ªåŒ…
    ```xml
    <!-- https://mvnrepository.com/artifact/javax.mail/mail -->
    <dependency>
        <groupId>javax.mail</groupId>
        <artifactId>mail</artifactId>
        <version>1.4.7</version>
    </dependency>
    ```

- å‘é€é‚®ä»¶çš„ä»£ç å®ç°
    ```java
    // åˆ›å»ºä¸€ä¸ªé‚®ä»¶å¯¹è±¡
    private static Message createMessage(Session session) throws MessagingException {
        Message message = new MimeMessage(session);
        // è®¾ç½®å‘é€äºº
        message.setFrom(new InternetAddress("2499302263@qq.com"));
        // è®¾ç½®æ¥å—äººï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å‘ç»™è°
        //   ç±»å‹ä¸€å…±æœ‰ä¸‰ç§ï¼ŒTOæ”¶ä»¶äººï¼ŒCCæŠ„é€äººï¼ŒBCCå¯†é€
        message.setRecipient(Message.RecipientType.TO, new InternetAddress("2499302263@qq.com"));
        // å‘ç»™ä¸€å †äºº
        // message.setRecipients();

        // è®¾ç½®å‘é€çš„æ—¶é—´ï¼Œæ¯”å¦‚è®¾ç½®ä¸€ä¸ªå°æ—¶åå‘é€ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œå°±ä½¿ç”¨é»˜è®¤çš„æ—¶é—´
        // message.setSentDate(new Date());

        // è®¾ç½®å‘é€çš„ä¸»é¢˜
        message.setSubject("ä¼Ÿè€ç‹—");
        // è®¾ç½®å‘é€çš„æ­£æ–‡ï¼ˆå†…å®¹ï¼‰
        message.setText("ä¼Ÿè€ç‹—ï¼Œç”¨Javaç»™ä½ å‘ä¸ªé‚®ä»¶ï¼Œæµ‹æµ‹Javaä»£ç ï¼Œä¸‰å…‹æ²¹ ğŸ˜„");

        // ä»¥ä¸Šè®¾ç½®ï¼Œä¿å­˜äº†æ‰èƒ½ç”Ÿæ•ˆ
        message.saveChanges();
        return message;
    }
    
    public static void main(String[] str) throws MessagingException {
        // é…ç½®å‘é€é‚®ä»¶çš„ä¸€äº›è§„åˆ™
        Properties properties = new Properties();
        // å®šä¹‰åè®®ï¼ˆå‚æ•°å›ºå®šï¼Œå¿…é¡»å®šä¹‰ï¼‰
        properties.put("mail.transport.protocol", "smtp");
        // è®¾ç½®å‘é€é‚®ä»¶çš„ä¸»æœºå(å‘é€é‚®ä»¶çš„é‚®ç®±å)ï¼Œæ¯”å¦‚ä½¿ç”¨QQé‚®ç®±å‘é€é‚®ä»¶
        properties.put("mail.smtp.host", "smtp.qq.com");
        // è®¾ç½®å‘é€é‚®ä»¶çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯25(å¯ä»¥ä¸ç”¨è®¾ç½®ï¼Œç›´æ¥ä½¿ç”¨é»˜è®¤çš„)
        //   ç«¯å£å¦‚æœä¸å¯¹ï¼Œå¯ä»¥æ‰“å¼€ä¸‹é¢è®¤è¯çš„é‚£ä¸ªæœåŠ¡ï¼ˆSMTPï¼‰ï¼Œé‡Œé¢æœ‰å‘é€é‚®ä»¶çš„äº‹ä¾‹ï¼Œé‡Œé¢å°±æœ‰ç«¯å£
        properties.put("mail.smtp.port", "465");
        // è®¾ç½®å‘é€é‚®ä»¶æ—¶ï¼Œæ˜¯å¦éœ€è¦è¿›è¡Œèº«ä»½éªŒè¯ï¼Œtrueä¸ºéœ€è¦
        properties.put("mail.smtp.auth", true);
        // æ˜¯å¦ä½¿ç”¨sslå®‰å…¨è¿æ¥ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨
        properties.put("mail.smtp.ssl.enable", true);

        // åˆ›å»ºä¸€ä¸ªè¿æ¥
        Session session = Session.getDefaultInstance(properties);
        // è·å–å‘é€é‚®ä»¶çš„æµï¼Œè¿›è¡Œé‚®ä»¶çš„å‘é€
        Transport ts = session.getTransport();
        // è¿›è¡Œè®¤è¯
        // ts.connect("å‘é€é‚®ä»¶çš„é‚®ç®±", "è®¤è¯ç ");
        //  è®¤è¯ç çš„è·å–ï¼Œç™»é™†é‚®ç®±åï¼Œç‚¹å‡»é‚®ç®±å(è®¾ç½®)ï¼Œæ‰¾åˆ°POP3/IMAP/SMTP/Exchange/CardDAV/CalDAVæœåŠ¡
        //  ç„¶åï¼Œéšä¾¿æ‰¾åˆ°ä¸€ä¸ªæœåŠ¡ï¼Œç‚¹å‡»å¼€å¯ï¼ŒæŒ‰ç…§æç¤ºçš„ä¸œè¥¿æ“ä½œï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªè®¤è¯ç (æˆæƒç )
        //  å¦‚æœå·²ç»å¼€å¯ï¼Œåˆ™è®¤è¯ç æ˜¯ä¹‹å‰å¾—åˆ°çš„(æœ€å¥½åšä¸€ä¸‹ä¿å­˜)
        ts.connect("2499302263@qq.com", "tpywohqoimbfdjdf");

        // åˆ›å»ºé‚®ä»¶ä¿¡æ¯(å°è£…ä¸€ä¸ªå‡½æ•°)
        Message message = createMessage(session);

        // å‘é€é‚®ä»¶ï¼Œmessage.getAllRecipients()è·å–å‘é€äºº(æŠŠåˆ›å»ºçš„é‚®ä»¶ä¿¡æ¯ï¼Œå‘é€ç»™è°)
        ts.sendMessage(message, message.getAllRecipients());
        // å…³é—­æµ
        ts.close();
    }
    ```