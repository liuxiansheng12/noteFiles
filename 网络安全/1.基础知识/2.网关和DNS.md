#### 网关
- 网关，是上网的依据。也是当前网段下的一个主机位，通常都是 1 或者 254
  - 比如：192.168.0.1 或者 192.168.0.254。其他的主机位也可以
  - **网关是与外界主机，进行通信的唯一出口，相当于是内网访问外网的一个门**


#### DNS
- DNS是域名解析服务器的 ip 地址
  - 比如输入 www.baidu.com，需要往这个地方进行通信。
    - 但是这是一串英文单词，并不是ip地址。所以，路由器就不知道往哪发。
    - 于是就往DNS服务器发送请求，获取 www.baidu.com对应的ip。
    - 然后在根据获取的ip进行通信
  - DNS服务器有很多，有国外的国内的，由于解析 www.baidu.com需要往DNS服务器进行通信。
    - 所以，**DNS服务器越近，通信的时间越短**(走的路少)，这样能优化上网速度
    - 比如：如果使用了一个国外的DNS服务器，获取IP通信了半天，然后在往 baidu 服务器进行通信，这样时间就会变长
  - **DNS服务器可以进行修改**
  - **如果没有配置DNS，则域名无法使用，但是使用IP依旧可以正常上网的**

#### 解析域名的流程
- 一共有三步
  - 先看缓存
    - 比如：访问了 www.baidu.com。走过了一次DNS请求，于是就会把获取的IP缓存起来
    - 下次网关在解析 www.baidu.com的时候，就会从缓存中得到，这样就不用在进行DNS请求了
    - DNS请求，毕竟要耗费一定的时间
  - 在查看本地hosts文件中，有没有这个域名的IP映射，如果有直接使用
  - 最后，在发送DNS请求，成功后，会进行缓存

#### 上网的具体流程
  - 输入一个 IP 或者 域名。先到达交换机，
    - 交换机一看是内网通信，直接发给具体的主机
    - 如果是访问外网，交换机会发给网关（唯一出口）
      - 网关一看是域名，发送 DNS 请求，解析域名获取IP，然后根据IP进行寻址
      - 如果是 IP 直接进行寻址