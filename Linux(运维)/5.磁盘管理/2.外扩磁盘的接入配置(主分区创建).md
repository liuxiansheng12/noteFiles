- 存储空间不够了，需要插入一些磁盘，这些新插入的磁盘，要经过一系列处理，才能往内部存放文件
  - 并不是插入就能用的

- 一块新磁盘的使用，需要经过三步
  - 分区
  - 格式化(安装文件系统)
  - 挂载
- 经过这三步后，磁盘就可以存放数据了

#### 分区
- 在一块磁盘中，找一部分存储空间。把这一部分存储空间，划分成一个区域
  - 比如：一块磁盘有 5g，分区用了 2g。则这 2g 就能存放内容了。剩下的 3g 还是无法使用状态
  - 剩下的 3g，要想使用，需要再次进行分区处理，比如：又占用了 2.5g，则这 2.5g就可以存放东西了
  - 一共分了两个区，4.5g 可用。还剩下 0.5g 无法使用
  - 所以，要想使用新的磁盘空间，就要进行三部曲（分区，格式化，挂载）
- **具体流程**
  - 输入指令：`fdisk /dev/sdb`，敲击回车后，就会进入会话模式，进行一些分区配置（比如分配多大的空间，是2g还是2.5g）
    - /dev/sdb 是磁盘位置
      - 可以使用 `ll /dev/sd*` 进行查看
      - 比如
      <img src='https://lsz.net.cn/node/imgs/dca6e69c58b6e6fdc6f6f43ed14dc601.png'>
    - 其中：sd* 是磁盘名称。一般第一块磁盘就叫 sda。第二块磁盘叫 sdb
    - fdisk /dev/sdb 就是对第二块磁盘进行分区处理
  - 会话模式配置阶段
    - 第一步：确认分区，输入 n，敲击回车
      - <img src='https://lsz.net.cn/node/imgs/ba9b94f513346f982bfc627d219b3760.png'>
    - 第二步：选择是主分区，还是扩展分区，输入 p，敲击回车
      - p 为主分区
      - 主分区，只能为 1～4。已有的不能在进行使用
      - <img src='https://lsz.net.cn/node/imgs/452afb77b581e930c1ae0898ec919810.png'>
    - 第三步：输入分区号，按照顺序来就行，比如第一次，就输入 0，然后敲击回车
    - 第四步：确定起始扇区，直接敲击回车，使用默认的就可以
      - 每次都会重新计算，是空余存储空间的起始
    - 第五步：确定结束扇区，可以输入具体的数字，也可以输入 +2G
      - 会从开始扇区，自动计算。
      - 这样，这个区，就占用了 2g 的硬盘存储空间
    - 第六步：输入 w，敲击回车后，才会正式进行分区的操作
- 输入 `partprobe /dev/sdb`，刷新
  - 如果查看没有创建的分区，就需要执行这个指令，刷新一下
- 输入 `fdisk -l /dev/sdb`，查看该磁盘下的分区
  - 如果，出现了创建的分区，则表示创建成功
  - <img src='https://lsz.net.cn/node/imgs/ca82758c6fb2a223140f5db61fa50ee5.png'>
- 也可以使用 `lsblk` 进行查看
  - 如果，出现了创建的分区，则表示创建成功
  - <img src='https://lsz.net.cn/node/imgs/3b23a6f245b6377f7a63ad054b62177e.png'>

#### 格式化(安装文件系统)
- 输入指令 mkfs.ext4  /dev/sdb1
  - sdb1 表示分区的名称
- 作用，把分区中的磁盘空间，划分成一个一个的区域，便于数据的读写
  - 一个区域为 4k


#### 挂载
- 先创建一个文件夹，然后把这个文件夹挂在某个分区下
  - 这样，这个文件夹下的所有文件，都会存储在这个分区所处的磁盘中
  - 如果该文件夹，没有挂载到某个硬盘下，则把数据存在系统盘中
- **虽然挂载，可以改变数据的存放位置，但是文件的路径是不会发生变化的**
- **挂载的指令**
  - `mount -t ext4 /dev/sdb1 /mnt/disk1`
    - sdb1 是对应的分区名
    - /dev/sdb1 是对应的分区路径
    - /mnt/disk1 对应文件夹路径，文件夹位置和名称随便
- 查询是否挂载成功
  - 输入指令：`df -hT`
  - <img src='https://lsz.net.cn/node/imgs/542ee37fcdc6d321b8ca5f8ba1111b54.png'>
  - 该指令，也可以查看出磁盘存储空间的使用情况，可以往挂载的文件夹下存放一些东西，然后在使用该指令查看一下。
    - 如果磁盘存储空间的使用情况，变多了，说明数据已经成功存放到外扩磁盘中了





#### 注意点
- **分区，可以一次性，创建多个分区，最后统一保存**。
  - 也就是上面创建分区的对话流程步骤，最后一步。输入 w，就进行了保存
  - 但是如果，输入 n，就又回到了第一步，继续创建其他的分区
  - 最后，在输入 w。进行所有分区的创建

- 上面介绍了，如果选择分区类型，选择的是 p，表示主分区。则只能创建四个。
  - 并且四个创建完成后，就不能进行分区的创建操作了，即使是扩展分区也不能创建了。
  - 因为输入 n，没有后续步骤了
  - 磁盘存储，只有分区后才能使用。**所以，最后一个分区存储空间，要占有所有的剩余空间**
    - 也就是，选择磁盘存储范围的时候，直接敲击回车就可以了。会自动把剩余的空间分配给该分区
  - 四个主分区全部创建完成，在创建分区的效果
  <img src='https://lsz.net.cn/node/imgs/70ec8de8765cc024ecfacc6cc203d52e.png'>

- 上面用的 sbxx，磁盘名称。不同的系统可能不同。但是配置方式一样
  - 可以先用 lsblk 查询一次，然后在进行上面的操作
