# HOC(高阶组件)

1. 概念
    React中组件的写法就是函数。而函数存在一种方式，传入的参数是方法，返回值也是方法，该类组件被称为高阶函数。
    高阶组件的核心也是，传入一个组件，返回一个组件。

2. 作用
    对某个组件进行进一步的包装，使其功能变得更加的强大

3. 一个组件可以进行多次包装
    组件包装完成，返回的还是一个组件函数，我们还可以进一步对该组件进行包装，让其功能越来越强大。

4. 思想以及工作流程
   1) 利用函数，传入一个组件，返回一个新的组件。然后使用者在外界进行接收，这样就得到了一个新的组件(在原来的组件上添加了一些功能)。

   2) 当代码解析到`<新组件 />`时，新组件被激活(如果新组件时类组件，周期开始启动)。那些新添加的功能就会开始工作。

   3) 在新组件的返回值中，一定要存在旧组件(传入组件)的引用，即`<传入组件 />`。当新组件启动后，就开始解析新组件，当解析到`<传入组件 />`时，传入组件就会被激活，处理组件本来的功能。
   
   4) 这样，某个组件就被包裹了一层华丽的外衣，增强了其功能性(本身的功能在HOC中被激活)。

4. 示例
```js
function HOC(Element) {
    return class H extends React.Component {
        componentDidMount() {
            console.log(123);
        }
        render() {
            return <Element />
        }
    }
}

// 需要添加功能的组件
class C extends React.Component {
    render() {
        return ( <div>组件</div> )
    }
}

// 对C组件进行包装得到一个新的组件
let A = HOC(C);

// C组件本身没有打印123的功能，通过HOC给它包裹了该功能
```

