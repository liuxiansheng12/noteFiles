

1. 作用
   1) 为了优化重新渲染时的渲染效率
   2) 复用节点


2. 具体表现
   1) 当数据发生变化，又有可能引发重新渲染。
   2) 此时就可能涉及到了组件或者dom的创建与销毁
      1) 比如使用v-if，涉及到了组件或者dom的销毁与创建
   3) 如果销毁的组件或者dom，与将要创建的组件或者dom
      1) **定义的key相同，并且dom名或者组件名相同，并且位于同级**
      2) 三个条件都满足，就会产生dom或者组件的复用，即不在创建新的
   4) 组件节点使用key的表现形式
      1) 如果进行复用(满足上方的三个条件)，复用的是组件环境，即数据还是之前的数据
      2) 此时，如果组件进行过重新渲染(更改数据引发的)
      3) 由于环境被复用，所以，展示的还是重新渲染后的样式，并没有复原
      4) 如果涉及了`slot`的使用，并且新组件与复用的不同。相当于innerHTML不同
         1) 节点复用，并不涉及`innerHTML`，即`innerHTML`依旧进行判断，如果相同，继续复用
         2) 如果不同进行替换
         3) `slot`的使用会进行更新，不会继承复用环境中的`slot`，如果相同继续复用(优化效率)
      5) 如果没有进行复用，之前的组件就会进行卸载，然后创建新的组件
         1) 会还原成初始的状态，组件是新创建的，是一个新的环境，所有的数据都是初始数据
   5) 普通节点使用key的表现形式
      1) 如果进行复用(满足上方的三个条件)，复用的是dom节点
      2) innerHTML是不会进行复用的，需要继续判断
         1) 如果dom名相同，继续复用，如果标签名不同，创建新的
            1) 然后继续判断dom中的innerHTML
         2) 如果文本内容相同，继续复用，如果文本内容不同，创建新的
         3) 如果旧的多余，进行卸载，如果旧的没有，进行创建
      3) 不会整个结构都进行复用
         1) 只复用当前节点，html结构由节点树构成，复用的是枝杈的头
         2) 枝杈会继续判断
            1) 如果相同，才继续复用
            2) 如果不同，创新新的，替换旧的
         3) 这样，即保证了效率，又保证了与实际相符
   6) 所以，key用于复用节点，而不是复用整个结构


3. `v-for`指令必须配合`key`的使用
   1) `v-for`，涉及到了大量的节点的创建与销毁
      1) 数据发生变化，循环就会重新执行
      2) 此时如果没有key的辅助，所有的节点都会重新生成，大量浪费效率
   2) `key`的值最好不用使用index
      1) 如果使用index作为key值，每次循环都会进行复用
      2) 如果循环过程中，某个节点需要重新创建，index是无法进行操作的
      3) 如果使用其他数据作为key值，是可以进行动态控制的


4. `key`必须加在实际的标签上，`template`标签不能使用key值，它不参与渲染




