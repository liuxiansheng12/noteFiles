

1. 该API是web上的API，不是Es6规范。该API只能在浏览器环境中使用，在nodejs中无法使用


#### 作用
1. 简化发送ajax的流程，使用提供API就可以发送一个ajax请求，不用自己单独封装


#### 发送请求
1. 通过调用`fetch()`函数，发送一个请求
    1. 该函数的第一个参数为请求的地址
    2. 该函数的第二个参数为一个配置对象，可以配置一些属性
        1. `method属性`: 配置请求方式。比如: method: "POST"，默认为GET
        2. `headers属性`: 属性值为一个对象，用来配置请求头
           1. 请求头是一个一个的键值对，即属性和属性值
        3. `body属性`: 配置请求体(POST请求时，发送的数据)，请求方式必须为POST才有效
            1. 发送数据的格式，在headers中配置(配置请求头)
            2. `"Content-Type": "application/json"`，发送的数据为json格式
        4. `credentials属性`: 用来设置是否发送cookie，**他对应的属性值以及作用如下**
            1. `omit`: 为默认值，不发送cookie
            2. `same-origin`: 请求同源地址时，携带cookie
            3. `include`: 请求任何地址都携带cookie



#### 处理服务器返回的数据
1. **通过fetch发送一个请求，fetch函数返回的是一个promise对象**
   1. 当请求完成后，promise对象的状态就会变成已决状态
      1. 当服务器进行了响应，返回了数据，promise对象的状态变为resolved
         1. 响应数据，作为改变状态时的参数传入
      2. 当请求过程中发生了错误，导致请求没有到达服务器，则状态变为rejected
         1. 比如: 断网了
2. **可以通过then绑定成功回调函数，进行请求数据的处理**
3. **可以通过async和await的配合，处理数据**
      


#### 分析fetch请求得到的数据
   1) 得到的是一个对象，对象中除了有服务器返回的数据，还有一些其他的数据
   2) **`ok属性`: 如果属性值为true，表示浏览器返回的状态码为200**
   3) `text属性`: 属性值为一个方法，该方法返回一个promise对象
      1) 可以绑定状态，或者使用async和await进行处理
      2) **该方法的作用: 把服务器返回的数据解析成字符串格式**
         1) 如果解析成功，则该方法返回的promise对象的状态变为resolved
         2) 并且解析成功的数据，作为改变状态的形参传入
         3) 如果解析出错，则该方法返回的promise对象的状态变为rejected
            1) 触发失败状态，如果使用await，没有失败处理函数，就会报错
            2) 可以使用try-catch进行拦截处理
            3) 如果注册了失败回调函数，则运行失败回调函数
   4) `json属性`: 属性值为一个方法，该方法返回一个promise对象
      1) 可以绑定状态，或者使用async和await进行处理
      2) **该方法的作用: 把服务器返回的数据(必须为json格式)解析成对象格式**
         1) 如果解析成功，则该方法返回的promise对象的状态变为resolved
         2) 并且解析成功的数据，作为改变状态的形参传入
         3) 如果解析出错，则该方法返回的promise对象的状态变为rejected
            1) 触发失败状态，如果使用await，没有失败处理函数，就会报错
            2) 可以使用try-catch进行拦截处理
            3) 如果注册了失败回调函数，则运行失败回调函数
   5) `blob属性`: 属性值为一个方法，该方法返回一个promise对象
      1) **该方法的作用: 处理二进制文件格式(比如图片或者电子表格)**
   6) `redirect属性`: 属性值为一个方法，该方法返回一个promise对象
      1) **该方法的作用: 解决重定向问题，服务器返回的状态码为302**
      2) 该方法会自动发送重定向请求，请求完成后，promise对象的状态变为resolved
      3) 根据请求数据创建的数据对象，作为改变状态时的形参传入
         1) 可以通过注册的成功回调函数进行接收处理
         2) 或者使用var ? = await ?.redirect进行接收


6. 示范代码
```js
async function a() {
    const a = await fetch("http://127.0.0.1:10086");
    const b = await a.text();
    return b;
}
a().then( (data) => { 
    console.log(data) 
} );
```

