


#### 创建表的步骤
> 第一步、创建一个表的对象，可以理解为操作对象，通过该对象可以操作这张表
>> 所以，通常把得到的表的操作对象，进行抛出，以便其他的文件操作该表

> 第二步、把表对象同步到数据库中，这样才是真正的创建出了一张表
>> 创建表对象，只是理论上创建了一张表，只存在当前程序运行的内存中。
>> 只有同步后，才会真正的在数据库中创建表。
>>> 同步后，才会执行对应的sql指令，创建表以及对表的操作。

> 会自动创建出一个递增的主键字段



示范代码
```js
// 导入操作数据库的操作对象(建立连接的文件抛出的对象)
const sequelize = require('./db');
// 导入类型包，用来定义字段的类型
const { DataTypes } = require('sequelize');
// 创建一个模型对象（表）,返回值就是 模型对象
const demo = sequelize.define("demo", {
    // 定义一个列，列名为name
    name: {
        // 字段类型
        type: DataTypes.STRING,
        // 是否可以为空（null），true表示可以为空，默认值为true
        allowNull: false
    },
    // 定义一个列，列名为age
    age: {
        // 字段类型
        type: DataTypes.INTEGER,
        // 是否可以为空（null），true表示可以为空，默认值为true
        allowNull: true  
    },
    // 定义一个列，列名为introduce
    introduce: {
        // 列的类型，可以指定最大长度，这里设置为 20
        // 如果没有设置长度，则使用默认的
        type: DataTypes.STRING(20),
        // 是否可以为空（null），true表示可以为空，默认值为true
        allowNull: false
    }
}, 
// 这是第三个参数，为配置对象，可以不传递，就会使用默认配置
{})

// 进行同步操作
demo.sync({altre: true}).then( () => {
    console.log('同步成功');
})

// 抛出模型对象
module.exports = demo;
```



#### 同步操作详解
> 同步的操作有三种
>> demo.sync()
>>> 如果没有该表（根据表名进行查询），则创建该表。如果有该表，则不进行操作。
>>> 表名相同，内容不同，也不进行操作，不看内部，只看表名。

>> demo.sync({force: true})
>>> 比较粗暴，如果没有该表，则进行创建
>>> 如果有该表，则删除，然后在创建新的

>> demo.sync({altre: true})
>>> 这种方式最常用
>>> 如果没有该表，则创建该表
>>> 如果有该表，则比较表的字段是否相同（类型配置都一样）
>>>> 如果不同，则进行修改，以模型对象中的为准
>>>> 如果，表中有一列，但是模型对象中没有，则表中的这一列删除
>>>> 如果，模型对象中有一列，表中没有，则创建该列




#### 创建表的模型对象时，第三个参数（配置参数详解）
```js
{
    // 如果不设置，则表的名字，为第一个参数的复数，也就是 demos，最后加一个s
    // 如果设置为 true，则表名为第一个参数
    freezeTableName: true,
    // 可以强制指定一个表名，此时第一个参数就会失效
    tableName: 'abc' 

    // 自动在表中添加一个，创建时间的字段，当插入一条信息后，会自动生成该信息的创建时间
    createdAt: false,    
    // 设置创建时间的字段名，如果不设置，则使用默认值 createdAt
    // createdAt: 'zidingyi',    

    // 自动在表中添加一个，修改时间的字段，当修改一条信息后，会自动生成该信息的修改时间
    updatedAt: false,
    // 设置修改时间的字段名，如果不设置，则使用默认值 updatedAt
    // updatedAt: 'zidingyi',   

    // 设置是否允许数据的删除，默认是允许删除
    // true为禁止删除，此时就会增加一个删除时间的字段
    // 当执行删除操作的时候，实际操作的是该字段
    paranoid: true 
    // 设置删除时间的字段名，如果不设置，则使用默认值 deletedAt
    // deletedAt: 'zidingyi'
}
```


#### 删除介绍
> 如果允许删除 updatedAt: true。
>> 则执行删除操作，该条数据就真的从数据库中删除了。

> 如果不允许删除 updatedAt: false。
>> 则执行删除操作，实际上执行的是修改删除时间的操作。
>> 然后，数据查询的时候，自动加上删除时间的筛选。
>> 这样，有删除时间的数据就查询不到了，相当于删除了。
>> 然而直接通过sql指令还是能查询到的，只不过通过 requelize 查询数据是查询不到的。
>>> 底层自动加了一个 where 条件筛选


