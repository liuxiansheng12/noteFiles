- 服务端渲染，发送请求获取数据，或者通过其他途径注入数据
  - 不能在具体的组件中，通过 useEffect 进行获取（该生命不会触发，没有渲染操作）
  - 也不能在具体的组件中，在函数中获取
  ```jsx
    function App() {
        // 获取数据
        getData();
        return <div>123</div>
    }
  ```
  - 因为，组件会交给客户端进行后续操作，这样该组件每次重新渲染都会获取数据，甚至引发渲染死循环

- 所以，只能在服务端渲染解析，但是客户端不进行解析的文件中，进行请求或者数据的注入
  - 请求的处理方法文件
  - 并且把得到的数据，注入 redux 中，然后具体的组件在进行使用（跨组件使用）

- 但是这样还有一个问题（启用了路由）
  - 客户端进行路由的切换，是不会在发送请求的（浏览器直接进行切换）
  - 这样就造成了一个问题，B路由，需要服务端获取数据，但是 访问的是 A。这样，在浏览器切换到 B 的使用，就会造成没有数据的问题，所以B组件还需要使用 useEffect 获取一次数据

- 优化
  - 根据上面的问题，B 组件也需要通过 useEffect 获取数据
  - 如果，直接访问 B，这样服务器获取一次数据，浏览器又获取了一次数据，造成一定的资源浪费
  - 这样，我们就可以在服务器获取数据后，自动产生下面的结构
  ```html
  <!-- 在全局中生成一个类似的结构，打上标记 -->
  <script>
      window.data = 具体数据;
  </script>
  ```
  - 这样，B 组件就可以进行判断，如果有 window.data 就说明服务器已经获取完数据了，可以直接使用。
  - 如果没有，说明第一次访问的不是B，后面进行了路由切换，打开了B页面，此时在进行请求的发送。
  - 这样就避免了，直接访问B，造成了两次数据的构建。
