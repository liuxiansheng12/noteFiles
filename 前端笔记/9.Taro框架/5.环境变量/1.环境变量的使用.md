#### 环境变量的设置
- 有两种设置方式，一种是在命令行中，一种是利用文件
  - 一般都是利用文件


#### 在配置文件中配置
- 配置文件在config下，有一个dev（开发环境）、有一个prod（生产环境），分别为对应环境的配置文件
- **配置文件，需要在config.index中加载了才会起作用**
  - 这样就可以在 config.index 中通过 if判断 引入不同的配置文件，注入不同的环境变量
  - 这样就可以实现，使用不同的命令，启用不同的环境，就不用修改代码了（**原理如下**）
    - 本质上，也是利用了命令行注入环境变量，不同的命令注入不同的变量
    - 然后，config.index 根据命令行注入的环境变量，使用不同的环境变量文件
  - config.index 中的示范代码如下
  ```js
    module.exports = function (merge) {
        // 取用命令行中注入的环境变量
        if (process.env.NODE_ENV === 'development') {
            return merge({}, config, require('./dev'))
        }
        return merge({}, config, require('./prod'))
    }
  ```
- 这两个文件中，都有一个 env 属性，内部配置的就是环境变量
    ```js
    module.exports = {
        // 
        env: {
            // 要注意格式，必须是 单双引号都存在，否则会报错
            NODE_ENV: '"development"',
            AAA: '"asdf"'
        },
        defineConstants: {},
        mini: {},
        h5: {}
    }
    ```
#### 在命令行中注入环境变量
```json
// 方式1
"dev:h5:sta": "export ENV='sta' && npm run build:h5 -- --watch",
// 方式2常用（使用简单）
"dev:h5:sta": "ENV=sta npm run build:h5 -- --watch"
```
- &&（或者npm） 前面配置的就是环境变量
  - config.index中是可以获取到的，然后根据不同的环境变量，启用不同的环境变量配置文件
  - 比如
  ```js
  module.exports = function (merge) {
      // 这个就是命令行中配置的
      console.log(process.env.ENV);
      if (process.env.ENV === 'sta') {
          return merge({}, config, require('./sta'))
      }
  }

  ```